jQuery(document).ready(function(m){if(m(document).on("click",".copy-theme-settings .js-dismiss-notice",function(t){t.preventDefault(),m(this).closest(".copy-theme-settings").slideUp("medium").remove();var e=m(this).attr("data-base_url");"undefined"!==e&&""!==e&&history.pushState({},"",e)}),m(document).on("click",".starterblog-mt-tabs-list a",function(t){t.preventDefault();var e=m(this).closest(".starterblog-mt-tabs"),i=m(this).attr("data-tab-id")||!1;i&&(m(".starterblog-mt-tab-cont",e).removeClass("active"),m('.starterblog-mt-tab-cont[data-tab-id="'+i+'"]',e).addClass("active"),m(".starterblog-mt-tabs-list li",e).removeClass("active"),m(this).closest("li").addClass("active"))}),wp&&wp.media){var i={setAttachment:function(t){this.attachment=t},addParamsURL:function(t,e){return m.isEmptyObject(e)||(t+=(0<=t.indexOf("?")?"&":"?")+m.param(e)),t},getThumb:function(t){void 0!==t&&(this.attachment=t);var e=(new Date).getTime();return void 0!==this.attachment.sizes&&void 0!==this.attachment.sizes.medium?this.addParamsURL(this.attachment.sizes.medium.url,{t:e}):this.addParamsURL(this.attachment.url,{t:e})},getURL:function(t){void 0!==t&&(this.attachment=t);var e=(new Date).getTime();return this.addParamsURL(this.attachment.url,{t:e})},getID:function(t){return void 0!==t&&(this.attachment=t),this.attachment.id},getInputID:function(t){m(".attachment-id",this.preview).val()},setPreview:function(t){this.preview=t},insertImage:function(t){void 0!==t&&(this.attachment=t);var e=this.getURL(),i=this.getID(),a=this.attachment.mime;m(".starterblog-image-preview",this.preview).addClass("starterblog--has-file").html('<img src="'+e+'" alt="">'),m(".attachment-url",this.preview).val(this.toRelativeUrl(e)),m(".attachment-mime",this.preview).val(a),m(".attachment-id",this.preview).val(i).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},toRelativeUrl:function(t){return t},showChangeBtn:function(){m(".starterblog--add",this.preview).addClass("starterblog--hide"),m(".starterblog--change",this.preview).removeClass("starterblog--hide"),m(".starterblog--remove",this.preview).removeClass("starterblog--hide")},insertVideo:function(t){void 0!==t&&(this.attachment=t);var e=this.getURL(),i=this.getID(),a=this.attachment.mime,s='<video width="100%" height="" controls><source src="'+e+'" type="'+a+'">Your browser does not support the video tag.</video>';m(".starterblog-image-preview",this.preview).addClass("starterblog--has-file").html(s),m(".attachment-url",this.preview).val(this.toRelativeUrl(e)),m(".attachment-mime",this.preview).val(a),m(".attachment-id",this.preview).val(i).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},insertFile:function(t){void 0!==t&&(this.attachment=t);var e=t.url,i=this.attachment.mime,a=e.replace(/^.*[\\\/]/,"");m(".starterblog-image-preview",this.preview).addClass("starterblog--has-file").html('<a href="'+e+'" class="attachment-file" target="_blank">'+a+"</a>"),m(".attachment-url",this.preview).val(this.toRelativeUrl(e)),m(".attachment-mime",this.preview).val(i),m(".attachment-id",this.preview).val(this.getID()).trigger("change"),this.preview.addClass("attachment-added"),this.showChangeBtn()},remove:function(t){void 0!==t&&(this.preview=t),m(".starterblog-image-preview",this.preview).removeAttr("style").html("").removeClass("starterblog--has-file"),m(".attachment-url",this.preview).val(""),m(".attachment-mime",this.preview).val(""),m(".attachment-id",this.preview).val("").trigger("change"),this.preview.removeClass("attachment-added"),m(".starterblog--add",this.preview).removeClass("starterblog--hide"),m(".starterblog--change",this.preview).addClass("starterblog--hide"),m(".starterblog--remove",this.preview).addClass("starterblog--hide")}};i.controlMediaImage=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1,library:{type:"image"}}),i.controlMediaImage.on("select",function(){var t=i.controlMediaImage.state().get("selection").first().toJSON();i.insertImage(t)}),i.controlMediaVideo=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1,library:{type:"video"}}),i.controlMediaVideo.on("select",function(){var t=i.controlMediaVideo.state().get("selection").first().toJSON();i.insertVideo(t)}),i.controlMediaFile=wp.media({title:wp.media.view.l10n.addMedia,multiple:!1}),i.controlMediaFile.on("select",function(){var t=i.controlMediaFile.state().get("selection").first().toJSON();i.insertFile(t)}),m(".starterblog-mt-media").on("click",".starterblog--add",function(t){t.preventDefault();var e=m(this).closest(".starterblog-mt-media");console.log(e),i.setPreview(e),i.controlMediaImage.open()}),m(".starterblog-mt-media").on("click",".starterblog--remove",function(t){t.preventDefault();var e=m(this).closest(".starterblog-mt-media");i.remove(e)})}});